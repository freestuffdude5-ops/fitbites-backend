{
  "openapi": "3.1.0",
  "info": {
    "title": "FitBites API",
    "description": "Recipe discovery API for FitBites \u2014 healthy viral recipes with affiliate links",
    "version": "0.2.0"
  },
  "paths": {
    "/api/v1/auth/signup": {
      "post": {
        "summary": "Signup",
        "description": "Create a new user account.",
        "operationId": "signup_api_v1_auth_signup_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SignUpRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "summary": "Login",
        "description": "Log in with email + password, returns JWT tokens.",
        "operationId": "login_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "summary": "Refresh Token",
        "description": "Exchange a valid refresh token for new access + refresh tokens.",
        "operationId": "refresh_token_api_v1_auth_refresh_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RefreshRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/me/saved": {
      "get": {
        "summary": "List Saved",
        "description": "Get the current user's saved recipes.",
        "operationId": "list_saved_api_v1_me_saved_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/recipes/{recipe_id}/save": {
      "post": {
        "summary": "Save Recipe",
        "description": "Save a recipe to user's favorites.",
        "operationId": "save_recipe_api_v1_recipes__recipe_id__save_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Unsave Recipe",
        "description": "Remove a recipe from user's favorites.",
        "operationId": "unsave_recipe_api_v1_recipes__recipe_id__save_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/trending": {
      "get": {
        "summary": "Trending Recipes",
        "description": "Get trending recipes sorted by virality score. Used by iOS feed.",
        "operationId": "trending_recipes_api_v1_trending_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/feed": {
      "get": {
        "summary": "Personalized Feed",
        "description": "Personalized recipe feed based on user preferences.\n\nIf user is logged in with preferences, filters by their dietary tags\nand sorts by a combined score (virality + preference match).\nFalls back to trending if no preferences set.",
        "operationId": "personalized_feed_api_v1_feed_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/featured": {
      "get": {
        "summary": "Featured Recipes",
        "description": "Get featured recipes \u2014 only high-quality ones with ingredients & engagement.\n\nThis is what the app feed should show first. Filters for recipes that have:\n- At least 3 ingredients (actual recipes, not just posts)\n- Engagement (likes > 10)\n- Sorted by virality score",
        "operationId": "featured_recipes_api_v1_recipes_featured_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes": {
      "get": {
        "summary": "List Recipes",
        "description": "List recipes with filtering, sorting, and pagination metadata.",
        "operationId": "list_recipes_api_v1_recipes_get",
        "parameters": [
          {
            "name": "tag",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by tag (e.g. high-protein)",
              "title": "Tag"
            },
            "description": "Filter by tag (e.g. high-protein)"
          },
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/Platform"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Platform"
            }
          },
          {
            "name": "max_calories",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "title": "Max Calories"
            }
          },
          {
            "name": "min_protein",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "title": "Min Protein"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "virality",
                "newest",
                "calories",
                "protein"
              ],
              "default": "virality",
              "title": "Sort"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/search": {
      "get": {
        "summary": "Search Recipes",
        "description": "Full-text search across recipe titles and descriptions with pagination.",
        "operationId": "search_recipes_api_v1_recipes_search_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "title": "Q"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/{recipe_id}": {
      "get": {
        "summary": "Get Recipe",
        "description": "Get a single recipe by ID.",
        "operationId": "get_recipe_api_v1_recipes__recipe_id__get",
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Recipe"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/affiliate-links": {
      "post": {
        "summary": "Get Affiliate Links",
        "description": "Generate multi-provider affiliate links for a list of ingredients.\n\nReturns links from Amazon, iHerb, Instacart, and Thrive Market,\nsorted by commission rate (highest first).\n\nIncludes FTC-compliant affiliate disclosure metadata.",
        "operationId": "get_affiliate_links_api_v1_affiliate_links_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Ingredients"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/affiliate-links/shop-all": {
      "post": {
        "summary": "Shop All Ingredients",
        "description": "Generate a 'Shop All Ingredients' link for one-click grocery ordering.\n\nThis is the highest-value monetization touchpoint \u2014 routes to Instacart\nwith all ingredients pre-loaded for instant cart building.",
        "operationId": "shop_all_ingredients_api_v1_affiliate_links_shop_all_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "title": "Ingredients"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/affiliate-clicks": {
      "post": {
        "summary": "Track Affiliate Click",
        "description": "Track an affiliate link click for analytics and commission attribution.\n\nReturns a click_id for deduplication on the client side.",
        "operationId": "track_affiliate_click_api_v1_affiliate_clicks_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          },
          {
            "name": "ingredient",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Ingredient"
            }
          },
          {
            "name": "provider",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Provider"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/scrape": {
      "post": {
        "summary": "Trigger Scrape",
        "description": "Manually trigger a scrape run (rate limited, admin-only).",
        "operationId": "trigger_scrape_api_v1_scrape_post",
        "parameters": [
          {
            "name": "x-admin-key",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "title": "X-Admin-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/events": {
      "post": {
        "summary": "Track Event",
        "description": "Track a single analytics event from the client.",
        "operationId": "track_event_api_v1_events_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EventPayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/events/batch": {
      "post": {
        "summary": "Track Events Batch",
        "description": "Track up to 100 events in a single request (for mobile clients batching offline events).",
        "operationId": "track_events_batch_api_v1_events_batch_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchPayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/metrics": {
      "get": {
        "summary": "Get Metrics",
        "description": "Real-time dashboard metrics. Shows event counts, top recipes, API performance.",
        "operationId": "get_metrics_api_v1_admin_metrics_get",
        "parameters": [
          {
            "name": "hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 720,
              "minimum": 1,
              "description": "Lookback window in hours",
              "default": 24,
              "title": "Hours"
            },
            "description": "Lookback window in hours"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/metrics/funnel": {
      "get": {
        "summary": "Get Funnel",
        "description": "Recipe-to-revenue funnel: recipe_view \u2192 affiliate_click \u2192 affiliate_conversion.",
        "operationId": "get_funnel_api_v1_admin_metrics_funnel_get",
        "parameters": [
          {
            "name": "hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 720,
              "minimum": 1,
              "default": 24,
              "title": "Hours"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/revenue": {
      "get": {
        "tags": [
          "revenue"
        ],
        "summary": "Revenue Summary",
        "description": "Comprehensive revenue summary with ARPU, LTV projections, and partner breakdown.",
        "operationId": "revenue_summary_api_v1_admin_revenue_get",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "description": "Lookback period in days",
              "default": 30,
              "title": "Days"
            },
            "description": "Lookback period in days"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RevenueSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/revenue/daily": {
      "get": {
        "tags": [
          "revenue"
        ],
        "summary": "Daily Revenue",
        "description": "Daily revenue time series for charting.",
        "operationId": "daily_revenue_api_v1_admin_revenue_daily_get",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 90,
              "minimum": 1,
              "default": 30,
              "title": "Days"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DailyRevenue"
                  },
                  "title": "Response Daily Revenue Api V1 Admin Revenue Daily Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/revenue/health": {
      "get": {
        "tags": [
          "revenue"
        ],
        "summary": "Financial Health",
        "description": "Financial health score (0-100) with actionable alerts.",
        "operationId": "financial_health_api_v1_admin_revenue_health_get",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 30,
              "minimum": 1,
              "default": 7,
              "title": "Days"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthScore"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/revenue/partners": {
      "get": {
        "tags": [
          "revenue"
        ],
        "summary": "Partner Breakdown",
        "description": "Per-partner revenue breakdown.",
        "operationId": "partner_breakdown_api_v1_admin_revenue_partners_get",
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 365,
              "minimum": 1,
              "default": 30,
              "title": "Days"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PartnerBreakdown"
                  },
                  "title": "Response Partner Breakdown Api V1 Admin Revenue Partners Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/pricing/tiers": {
      "get": {
        "tags": [
          "pricing"
        ],
        "summary": "Get Tiers",
        "description": "Get all subscription tiers with resolved pricing (including A/B variants).",
        "operationId": "get_tiers_api_v1_pricing_tiers_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "User ID for A/B assignment",
              "default": "anonymous",
              "title": "User Id"
            },
            "description": "User ID for A/B assignment"
          },
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "web | ios | android",
              "default": "web",
              "title": "Platform"
            },
            "description": "web | ios | android"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/pricing/tiers/{tier}": {
      "get": {
        "tags": [
          "pricing"
        ],
        "summary": "Get Tier",
        "description": "Get pricing for a specific tier.",
        "operationId": "get_tier_api_v1_pricing_tiers__tier__get",
        "parameters": [
          {
            "name": "tier",
            "in": "path",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/Tier"
            }
          },
          {
            "name": "user_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "anonymous",
              "title": "User Id"
            }
          },
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "web",
              "title": "Platform"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/pricing/check-limit": {
      "get": {
        "tags": [
          "pricing"
        ],
        "summary": "Check Feature Limit",
        "description": "Check if a user has hit a feature limit and whether to show paywall.",
        "operationId": "check_feature_limit_api_v1_pricing_check_limit_get",
        "parameters": [
          {
            "name": "tier",
            "in": "query",
            "required": false,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/components/schemas/Tier"
                }
              ],
              "default": "free",
              "title": "Tier"
            }
          },
          {
            "name": "feature",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Feature to check (e.g., saved_recipes)",
              "title": "Feature"
            },
            "description": "Feature to check (e.g., saved_recipes)"
          },
          {
            "name": "usage",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Current usage count",
              "default": 0,
              "title": "Usage"
            },
            "description": "Current usage count"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/subscriptions/stripe/webhook": {
      "post": {
        "tags": [
          "subscriptions"
        ],
        "summary": "Stripe Webhook",
        "description": "Handle Stripe webhook events for subscription lifecycle.\n\nHandles:\n- checkout.session.completed \u2192 New subscription\n- customer.subscription.updated \u2192 Plan changes, renewals\n- customer.subscription.deleted \u2192 Cancellation\n- invoice.paid \u2192 Successful payment\n- invoice.payment_failed \u2192 Payment failure\n- charge.refunded \u2192 Refund processing",
        "operationId": "stripe_webhook_api_v1_subscriptions_stripe_webhook_post",
        "parameters": [
          {
            "name": "stripe-signature",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Stripe-Signature"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/subscriptions/apple/verify": {
      "post": {
        "tags": [
          "subscriptions"
        ],
        "summary": "Verify Apple Receipt",
        "description": "Verify an Apple IAP receipt and activate/update subscription.\n\nFlow:\n1. Send receipt to Apple's verifyReceipt endpoint (try prod first, fallback to sandbox)\n2. Parse latest_receipt_info for active subscription\n3. Update our subscription table\n4. Return entitlement status to client",
        "operationId": "verify_apple_receipt_api_v1_subscriptions_apple_verify_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AppleReceiptRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/subscriptions/stripe/create-checkout": {
      "post": {
        "tags": [
          "subscriptions"
        ],
        "summary": "Create Stripe Checkout",
        "description": "Create a Stripe Checkout session for web subscription.\n\nReturns a checkout URL for the client to redirect to.",
        "operationId": "create_stripe_checkout_api_v1_subscriptions_stripe_create_checkout_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCheckoutRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/subscriptions/me": {
      "get": {
        "tags": [
          "subscriptions"
        ],
        "summary": "Get My Subscription",
        "description": "Get current user's subscription status and entitlements.",
        "operationId": "get_my_subscription_api_v1_subscriptions_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/subscriptions/google/verify": {
      "post": {
        "tags": [
          "subscriptions"
        ],
        "summary": "Verify Google Purchase",
        "description": "Verify a Google Play subscription purchase and activate entitlement.\n\nCalled by the Android client after a successful BillingClient purchase flow.\n\nFlow:\n1. Call Google Play Developer API to validate the purchase token\n2. Parse subscription state (active, paused, grace period, etc.)\n3. Acknowledge the purchase (Google requires this within 3 days)\n4. Update our subscription table\n5. Return entitlement status to client",
        "operationId": "verify_google_purchase_api_v1_subscriptions_google_verify_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GoogleVerifyRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/subscriptions/google/webhook": {
      "post": {
        "tags": [
          "subscriptions"
        ],
        "summary": "Google Rtdn Webhook",
        "description": "Handle Google Real-Time Developer Notifications (RTDN) via Cloud Pub/Sub push.\n\nGoogle sends subscription lifecycle events as Pub/Sub messages.\nThe message data contains a base64-encoded DeveloperNotification.\n\nNotification types:\n- SUBSCRIPTION_RECOVERED (1): Renewed from account hold\n- SUBSCRIPTION_RENEWED (2): Active subscription renewed\n- SUBSCRIPTION_CANCELED (3): User or system cancellation\n- SUBSCRIPTION_PURCHASED (4): New subscription\n- SUBSCRIPTION_ON_HOLD (5): Account hold (payment issue)\n- SUBSCRIPTION_IN_GRACE_PERIOD (6): Grace period started\n- SUBSCRIPTION_RESTARTED (7): User resubscribed\n- SUBSCRIPTION_PRICE_CHANGE_CONFIRMED (8): User accepted price change\n- SUBSCRIPTION_DEFERRED (9): Subscription deferred\n- SUBSCRIPTION_PAUSED (10): Subscription paused\n- SUBSCRIPTION_PAUSE_SCHEDULE_CHANGED (11): Pause schedule updated\n- SUBSCRIPTION_REVOKED (12): Subscription revoked (refund)\n- SUBSCRIPTION_EXPIRED (13): Subscription expired",
        "operationId": "google_rtdn_webhook_api_v1_subscriptions_google_webhook_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/me/data-export": {
      "get": {
        "tags": [
          "privacy"
        ],
        "summary": "Export User Data",
        "description": "Export all user data in machine-readable JSON format.\n\nGDPR Article 20 \u2014 Right to Data Portability.\nCCPA \u00a71798.100 \u2014 Right to Know.\n\nReturns all personal data we hold for this user.\nResponse time: immediate (< 30 days GDPR requirement).",
        "operationId": "export_user_data_api_v1_me_data_export_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/me": {
      "delete": {
        "tags": [
          "privacy"
        ],
        "summary": "Delete Account",
        "description": "Permanently delete user account and all associated data.\n\nGDPR Article 17 \u2014 Right to Erasure.\nCCPA \u00a71798.105 \u2014 Right to Delete.\nApple App Store Review Guideline 5.1.1(v) \u2014 Account Deletion requirement.\n\nThis is irreversible. Deletes:\n- User profile\n- Saved recipes\n- Subscription records\n- Payment event logs (anonymized, kept for financial audit)\n- Analytics events\n- Consent records\n\nNote: We retain anonymized payment records for tax/audit compliance\n(GDPR Article 17(3)(b) \u2014 legal obligation exemption).",
        "operationId": "delete_account_api_v1_me_delete",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/me/consent": {
      "get": {
        "tags": [
          "privacy"
        ],
        "summary": "Get Consent",
        "description": "Get current consent preferences.\n\nReturns default consents for new users (all essential = True, optional = False).",
        "operationId": "get_consent_api_v1_me_consent_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "privacy"
        ],
        "summary": "Update Consent",
        "description": "Update consent preferences.\n\nGDPR Article 7 \u2014 Conditions for consent.\nConsent must be freely given, specific, informed, and unambiguous.\nUsers can withdraw consent at any time.",
        "operationId": "update_consent_api_v1_me_consent_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ConsentUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/users/register": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Register User",
        "description": "Register a new user (anonymous via device_id, or via email).\n\nReturns existing user if device_id/email already registered.",
        "operationId": "register_user_api_v1_users_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get User",
        "description": "Get user profile.",
        "operationId": "get_user_api_v1_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/preferences": {
      "patch": {
        "tags": [
          "users"
        ],
        "summary": "Update Preferences",
        "description": "Update user dietary preferences (used for personalized recommendations).",
        "operationId": "update_preferences_api_v1_users__user_id__preferences_patch",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PreferencesUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/saved": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Save Recipe",
        "description": "Save a recipe to the user's collection. Idempotent \u2014 re-saving updates collection/notes.",
        "operationId": "save_recipe_api_v1_users__user_id__saved_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SaveRecipeRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "users"
        ],
        "summary": "List Saved Recipes",
        "description": "List user's saved recipes with full recipe data + collection info.",
        "operationId": "list_saved_recipes_api_v1_users__user_id__saved_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "collection",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by collection name",
              "title": "Collection"
            },
            "description": "Filter by collection name"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/collections": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "List Collections",
        "description": "List all collections with recipe counts.",
        "operationId": "list_collections_api_v1_users__user_id__collections_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/saved/{recipe_id}": {
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Unsave Recipe",
        "description": "Remove a recipe from saved.",
        "operationId": "unsave_recipe_api_v1_users__user_id__saved__recipe_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/grocery-lists": {
      "post": {
        "tags": [
          "users"
        ],
        "summary": "Create Grocery List",
        "description": "Generate a grocery list from one or more recipes.\n\nAggregates ingredients, deduplicates similar items, and attaches\naffiliate links for each ingredient. This is the primary monetization path.",
        "operationId": "create_grocery_list_api_v1_users__user_id__grocery_lists_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroceryListCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "users"
        ],
        "summary": "List Grocery Lists",
        "description": "List user's grocery lists (most recent first).",
        "operationId": "list_grocery_lists_api_v1_users__user_id__grocery_lists_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/grocery-lists/{list_id}": {
      "get": {
        "tags": [
          "users"
        ],
        "summary": "Get Grocery List",
        "description": "Get a grocery list with all items and affiliate links.",
        "operationId": "get_grocery_list_api_v1_users__user_id__grocery_lists__list_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "list_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "List Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "users"
        ],
        "summary": "Delete Grocery List",
        "description": "Delete a grocery list.",
        "operationId": "delete_grocery_list_api_v1_users__user_id__grocery_lists__list_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "list_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "List Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/grocery-lists/{list_id}/check": {
      "patch": {
        "tags": [
          "users"
        ],
        "summary": "Check Grocery Item",
        "description": "Toggle checked state of a grocery list item.",
        "operationId": "check_grocery_item_api_v1_users__user_id__grocery_lists__list_id__check_patch",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "list_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "List Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GroceryItemUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/feed/{user_id}": {
      "get": {
        "tags": [
          "recommendations",
          "meal-plans"
        ],
        "summary": "Personalized Feed",
        "description": "Get a personalized recipe feed based on user preferences and history.\n\nReturns recipes scored and ranked by:\n- Dietary preference match\n- Tag affinity from saved recipes\n- Virality/quality signal\n- Freshness\n- Macro quality (high protein per calorie)\n\nFeed is diversity-optimized to avoid showing consecutive similar recipes.",
        "operationId": "personalized_feed_api_v1_feed__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "exclude_saved",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Hide already-saved recipes",
              "default": true,
              "title": "Exclude Saved"
            },
            "description": "Hide already-saved recipes"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/meal-plans": {
      "post": {
        "tags": [
          "recommendations",
          "meal-plans"
        ],
        "summary": "Create Meal Plan",
        "description": "Create a new meal plan with daily nutritional targets.",
        "operationId": "create_meal_plan_api_v1_users__user_id__meal_plans_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MealPlanCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "recommendations",
          "meal-plans"
        ],
        "summary": "List Meal Plans",
        "description": "List user's meal plans, most recent first.",
        "operationId": "list_meal_plans_api_v1_users__user_id__meal_plans_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 10,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/meal-plans/{plan_id}": {
      "get": {
        "tags": [
          "recommendations",
          "meal-plans"
        ],
        "summary": "Get Meal Plan",
        "description": "Get a meal plan with all entries and daily macro summaries.",
        "operationId": "get_meal_plan_api_v1_users__user_id__meal_plans__plan_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "recommendations",
          "meal-plans"
        ],
        "summary": "Delete Meal Plan",
        "description": "Delete a meal plan and all its entries.",
        "operationId": "delete_meal_plan_api_v1_users__user_id__meal_plans__plan_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/meal-plans/{plan_id}/entries": {
      "post": {
        "tags": [
          "recommendations",
          "meal-plans"
        ],
        "summary": "Add Meal Entry",
        "description": "Add a recipe to a specific meal slot in the plan.",
        "operationId": "add_meal_entry_api_v1_users__user_id__meal_plans__plan_id__entries_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MealEntryRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/meal-plans/{plan_id}/entries/{entry_id}": {
      "delete": {
        "tags": [
          "recommendations",
          "meal-plans"
        ],
        "summary": "Remove Meal Entry",
        "description": "Remove a recipe from a meal plan slot.",
        "operationId": "remove_meal_entry_api_v1_users__user_id__meal_plans__plan_id__entries__entry_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          },
          {
            "name": "entry_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Entry Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/meal-plans/{plan_id}/auto-fill": {
      "post": {
        "tags": [
          "recommendations",
          "meal-plans"
        ],
        "summary": "Auto Fill Meal Plan",
        "description": "Auto-fill empty meal slots with personalized recipe recommendations.\n\nUses the recommendation engine to pick recipes that:\n- Match user dietary preferences\n- Hit daily macro targets when possible\n- Avoid repeating the same recipe in consecutive days",
        "operationId": "auto_fill_meal_plan_api_v1_users__user_id__meal_plans__plan_id__auto_fill_post",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "plan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Plan Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AutoFillRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/{recipe_id}/reviews": {
      "post": {
        "tags": [
          "reviews",
          "cooking",
          "search"
        ],
        "summary": "Create Review",
        "description": "Submit a review for a recipe. One review per user per recipe.",
        "operationId": "create_review_api_v1_recipes__recipe_id__reviews_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReviewCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "reviews",
          "cooking",
          "search"
        ],
        "summary": "List Reviews",
        "description": "List reviews for a recipe with rating summary.",
        "operationId": "list_reviews_api_v1_recipes__recipe_id__reviews_get",
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(newest|highest|lowest|helpful)$",
              "default": "newest",
              "title": "Sort"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/{recipe_id}/reviews/{review_id}": {
      "patch": {
        "tags": [
          "reviews",
          "cooking",
          "search"
        ],
        "summary": "Update Review",
        "description": "Update your review.",
        "operationId": "update_review_api_v1_recipes__recipe_id__reviews__review_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          },
          {
            "name": "review_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Review Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReviewUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "reviews",
          "cooking",
          "search"
        ],
        "summary": "Delete Review",
        "description": "Delete your review.",
        "operationId": "delete_review_api_v1_recipes__recipe_id__reviews__review_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          },
          {
            "name": "review_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Review Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/reviews/{review_id}/helpful": {
      "post": {
        "tags": [
          "reviews",
          "cooking",
          "search"
        ],
        "summary": "Mark Helpful",
        "description": "Mark a review as helpful. Toggles on/off.",
        "operationId": "mark_helpful_api_v1_reviews__review_id__helpful_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "review_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Review Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/cooking-log": {
      "post": {
        "tags": [
          "reviews",
          "cooking",
          "search"
        ],
        "summary": "Log Cooking",
        "description": "Log that you cooked a recipe. Used for stats, streaks, and personalization.",
        "operationId": "log_cooking_api_v1_cooking_log_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/CookingLogRequest"
                  }
                ],
                "default": {
                  "servings": 1.0
                },
                "title": "Req"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/me/cooking-log": {
      "get": {
        "tags": [
          "reviews",
          "cooking",
          "search"
        ],
        "summary": "Get Cooking History",
        "description": "Get your cooking history with stats.",
        "operationId": "get_cooking_history_api_v1_me_cooking_log_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 30,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/me/cooking-stats": {
      "get": {
        "tags": [
          "reviews",
          "cooking",
          "search"
        ],
        "summary": "Get Cooking Stats",
        "description": "Get cooking stats for a time window \u2014 streak, favorites, macro totals.\n\nPowers the iOS stats widget and profile page.",
        "operationId": "get_cooking_stats_api_v1_me_cooking_stats_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "days",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 90,
              "minimum": 1,
              "description": "Stats window in days",
              "default": 7,
              "title": "Days"
            },
            "description": "Stats window in days"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/search/suggestions": {
      "get": {
        "tags": [
          "reviews",
          "cooking",
          "search"
        ],
        "summary": "Search Suggestions",
        "description": "Autocomplete search suggestions \u2014 instant results as user types.\n\nReturns matching recipe titles + tag suggestions for premium UX.",
        "operationId": "search_suggestions_api_v1_search_suggestions_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "minLength": 0,
              "maxLength": 100,
              "default": "",
              "title": "Q"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 20,
              "minimum": 1,
              "default": 8,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/trending/tags": {
      "get": {
        "tags": [
          "reviews",
          "cooking",
          "search"
        ],
        "summary": "Trending Tags",
        "description": "Get trending recipe tags \u2014 powers the explore/discover screen.",
        "operationId": "trending_tags_api_v1_trending_tags_get",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 15,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/{recipe_id}/rating": {
      "get": {
        "tags": [
          "reviews",
          "cooking",
          "search"
        ],
        "summary": "Get Recipe Rating",
        "description": "Get rating summary for a recipe \u2014 used in recipe cards and detail views.",
        "operationId": "get_recipe_rating_api_v1_recipes__recipe_id__rating_get",
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/follow": {
      "post": {
        "tags": [
          "social"
        ],
        "summary": "Follow User",
        "description": "Follow another user. Idempotent \u2014 re-following returns success.",
        "operationId": "follow_user_api_v1_users_follow_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FollowRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "delete": {
        "tags": [
          "social"
        ],
        "summary": "Unfollow User",
        "description": "Unfollow a user.",
        "operationId": "unfollow_user_api_v1_users_follow_delete",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FollowRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/users/{user_id}/followers": {
      "get": {
        "tags": [
          "social"
        ],
        "summary": "Get Followers",
        "description": "List a user's followers with pagination.",
        "operationId": "get_followers_api_v1_users__user_id__followers_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/following": {
      "get": {
        "tags": [
          "social"
        ],
        "summary": "Get Following",
        "description": "List who a user follows.",
        "operationId": "get_following_api_v1_users__user_id__following_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/profile": {
      "get": {
        "tags": [
          "social"
        ],
        "summary": "Get User Profile",
        "description": "Get a user's public profile with social stats.",
        "operationId": "get_user_profile_api_v1_users__user_id__profile_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/feed/activity": {
      "get": {
        "tags": [
          "social"
        ],
        "summary": "Activity Feed",
        "description": "Get activity feed from people the current user follows.\n\nReturns recent actions (cooked, saved, reviewed, shared) from followed users.\nCursor-based pagination via `before` timestamp.",
        "operationId": "activity_feed_api_v1_feed_activity_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 30,
              "title": "Limit"
            }
          },
          {
            "name": "before",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "ISO timestamp cursor for pagination",
              "title": "Before"
            },
            "description": "ISO timestamp cursor for pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/{recipe_id}/share": {
      "post": {
        "tags": [
          "social"
        ],
        "summary": "Share Recipe",
        "description": "Create a trackable share link for a recipe.\n\nReturns a short share_code that resolves to the recipe.\nTracks which platform users share to for viral attribution.",
        "operationId": "share_recipe_api_v1_recipes__recipe_id__share_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/ShareRequest"
                  }
                ],
                "default": {},
                "title": "Req"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "sharing"
        ],
        "summary": "Get Share Link",
        "description": "Generate a shareable link for a recipe. No auth required \u2014 enables viral sharing.",
        "operationId": "get_share_link_api_v1_recipes__recipe_id__share_get",
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/s/{share_code}": {
      "get": {
        "tags": [
          "social"
        ],
        "summary": "Resolve Share",
        "description": "Resolve a share code to the recipe. Increments click counter.",
        "operationId": "resolve_share_api_v1_s__share_code__get",
        "parameters": [
          {
            "name": "share_code",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Share Code"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/discover": {
      "get": {
        "tags": [
          "search"
        ],
        "summary": "Discover Recipes",
        "description": "Advanced recipe discovery with multi-dimensional filtering.\n\nCombines text search with macro filters, cook time, difficulty,\nand platform filtering. Supports multiple sort strategies.\n\nPremium UX: returns facet counts for active filters so the UI\ncan show \"23 high-protein recipes under 400 cal\".",
        "operationId": "discover_recipes_api_v1_discover_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Search query (title/description)",
              "title": "Q"
            },
            "description": "Search query (title/description)"
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Comma-separated tags (e.g. high-protein,keto)",
              "title": "Tags"
            },
            "description": "Comma-separated tags (e.g. high-protein,keto)"
          },
          {
            "name": "min_calories",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "title": "Min Calories"
            }
          },
          {
            "name": "max_calories",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "title": "Max Calories"
            }
          },
          {
            "name": "min_protein",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "title": "Min Protein"
            }
          },
          {
            "name": "max_protein",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "title": "Max Protein"
            }
          },
          {
            "name": "min_carbs",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "title": "Min Carbs"
            }
          },
          {
            "name": "max_carbs",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "title": "Max Carbs"
            }
          },
          {
            "name": "min_fat",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "title": "Min Fat"
            }
          },
          {
            "name": "max_fat",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "title": "Max Fat"
            }
          },
          {
            "name": "max_cook_time",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer",
                  "minimum": 0
                },
                {
                  "type": "null"
                }
              ],
              "description": "Max cook time in minutes",
              "title": "Max Cook Time"
            },
            "description": "Max cook time in minutes"
          },
          {
            "name": "difficulty",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "easy, medium, or hard",
              "title": "Difficulty"
            },
            "description": "easy, medium, or hard"
          },
          {
            "name": "platform",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "youtube or reddit",
              "title": "Platform"
            },
            "description": "youtube or reddit"
          },
          {
            "name": "min_rating",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "number",
                  "maximum": 5.0,
                  "minimum": 0.0
                },
                {
                  "type": "null"
                }
              ],
              "title": "Min Rating"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "description": "Sort: relevance, virality, newest, calories_asc, calories_desc, protein_desc, cook_time_asc",
              "default": "relevance",
              "title": "Sort"
            },
            "description": "Sort: relevance, virality, newest, calories_asc, calories_desc, protein_desc, cook_time_asc"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/discover/quick-filters": {
      "get": {
        "tags": [
          "search"
        ],
        "summary": "Quick Filters",
        "description": "Pre-built filter shortcuts for the explore screen.\n\nReturns curated filter combos like \"High Protein Under 400cal\"\nwith result counts so the UI can show popular filter pills.",
        "operationId": "quick_filters_api_v1_discover_quick_filters_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/{recipe_id}/comments": {
      "post": {
        "summary": "Post Comment",
        "description": "Post a comment on a recipe (or reply to another comment).",
        "operationId": "post_comment_api_v1_recipes__recipe_id__comments_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommentCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Get Comments",
        "description": "List comments on a recipe with nested replies.",
        "operationId": "get_comments_api_v1_recipes__recipe_id__comments_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(newest|oldest|top)$",
              "default": "newest",
              "title": "Sort"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentsListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/comments/{comment_id}/replies": {
      "get": {
        "summary": "Get Replies",
        "description": "Get replies to a specific comment.",
        "operationId": "get_replies_api_v1_comments__comment_id__replies_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "comment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Comment Id"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentsListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/comments/{comment_id}": {
      "patch": {
        "summary": "Update Comment",
        "description": "Edit your own comment.",
        "operationId": "update_comment_api_v1_comments__comment_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "comment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Comment Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommentUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommentResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Comment",
        "description": "Delete your own comment.",
        "operationId": "delete_comment_api_v1_comments__comment_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "comment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Comment Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/comments/{comment_id}/like": {
      "post": {
        "summary": "Toggle Comment Like",
        "description": "Toggle like on a comment.",
        "operationId": "toggle_comment_like_api_v1_comments__comment_id__like_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "comment_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Comment Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/{recipe_id}/view": {
      "post": {
        "summary": "Track View",
        "description": "Track that user viewed a recipe (idempotent - updates timestamp if exists).",
        "operationId": "track_view_api_v1_recipes__recipe_id__view_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/recently-viewed": {
      "get": {
        "summary": "Get Recently Viewed",
        "description": "Get user's recently viewed recipes.",
        "operationId": "get_recently_viewed_api_v1_users__user_id__recently_viewed_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecentlyViewedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Clear History",
        "description": "Clear user's recently viewed history.",
        "operationId": "clear_history_api_v1_users__user_id__recently_viewed_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}/avatar": {
      "post": {
        "summary": "Upload Avatar",
        "description": "Upload user avatar image.",
        "operationId": "upload_avatar_api_v1_users__user_id__avatar_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_avatar_api_v1_users__user_id__avatar_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AvatarUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Delete Avatar",
        "description": "Delete user avatar.",
        "operationId": "delete_avatar_api_v1_users__user_id__avatar_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhooks/affiliate/amazon": {
      "post": {
        "tags": [
          "Affiliate Webhooks"
        ],
        "summary": "Amazon Conversion Webhook",
        "description": "Receive conversion events from Amazon Associates.\n\nNote: Amazon doesn't have official webhooks. This is a placeholder\nfor future integration if they add it, or for manual import from reports.",
        "operationId": "amazon_conversion_webhook_api_v1_webhooks_affiliate_amazon_post",
        "parameters": [
          {
            "name": "x-amz-signature",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "title": "X-Amz-Signature"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AmazonConversionWebhook"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhooks/affiliate/impact": {
      "post": {
        "tags": [
          "Affiliate Webhooks"
        ],
        "summary": "Impact Conversion Webhook",
        "description": "Receive conversion events from Impact.com (Instacart, Walmart, etc.).",
        "operationId": "impact_conversion_webhook_api_v1_webhooks_affiliate_impact_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ImpactConversionWebhook"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/webhooks/affiliate/generic": {
      "post": {
        "tags": [
          "Affiliate Webhooks"
        ],
        "summary": "Generic Conversion Webhook",
        "description": "Generic webhook receiver for any provider.\n\nAccepts JSON payload with standard fields:\n{\n    \"order_id\": \"ABC123\",\n    \"link_id\": \"a3f8b2c1\",\n    \"provider\": \"iherb\",\n    \"revenue\": 45.99,\n    \"commission\": 4.60,\n    \"purchased_at\": \"2026-02-24T12:00:00Z\"\n}",
        "operationId": "generic_conversion_webhook_api_v1_webhooks_affiliate_generic_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/db-admin/seed-database": {
      "post": {
        "tags": [
          "db-admin"
        ],
        "summary": "Seed Database",
        "description": "Seed the database with initial recipes for development/production.\n\nRequires: X-Admin-Key header with valid admin API key.\n\nReturns count of recipes seeded.",
        "operationId": "seed_database_api_v1_db_admin_seed_database_post",
        "parameters": [
          {
            "name": "x-admin-key",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "title": "X-Admin-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/db-admin/seed-extra": {
      "post": {
        "tags": [
          "db-admin"
        ],
        "summary": "Seed Extra Recipes",
        "description": "Seed additional recipes (can run multiple times safely - dedupes by title).",
        "operationId": "seed_extra_recipes_api_v1_db_admin_seed_extra_post",
        "parameters": [
          {
            "name": "x-admin-key",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "title": "X-Admin-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/db-admin/clear-recipes": {
      "delete": {
        "tags": [
          "db-admin"
        ],
        "summary": "Clear Recipes",
        "description": "Clear all recipes from the database (DANGEROUS - use with caution).\n\nRequires: X-Admin-Key header with valid admin API key.",
        "operationId": "clear_recipes_api_v1_db_admin_clear_recipes_delete",
        "parameters": [
          {
            "name": "x-admin-key",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "title": "X-Admin-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/db-admin/stats": {
      "get": {
        "tags": [
          "db-admin"
        ],
        "summary": "Get Stats",
        "description": "Get database statistics (recipe count, user count, etc.).",
        "operationId": "get_stats_api_v1_db_admin_stats_get",
        "parameters": [
          {
            "name": "x-admin-key",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "title": "X-Admin-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/affiliate/health": {
      "get": {
        "tags": [
          "Affiliate Admin"
        ],
        "summary": "Get Health Dashboard",
        "description": "Get real-time affiliate system health metrics.\n\nReturns:\n    Current 24h metrics, 7d averages, and any active alerts",
        "operationId": "get_health_dashboard_api_v1_admin_affiliate_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AffiliateHealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/affiliate/providers": {
      "get": {
        "tags": [
          "Affiliate Admin"
        ],
        "summary": "Get Provider Performance Comparison",
        "description": "Compare conversion performance across affiliate providers.\n\nReturns:\n    List of providers sorted by revenue",
        "operationId": "get_provider_performance_comparison_api_v1_admin_affiliate_providers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/ProviderPerformanceResponse"
                  },
                  "type": "array",
                  "title": "Response Get Provider Performance Comparison Api V1 Admin Affiliate Providers Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/affiliate/fraud-detection": {
      "get": {
        "tags": [
          "Affiliate Admin"
        ],
        "summary": "Detect Fraud",
        "description": "Detect suspicious conversion patterns (fraud, bots, testing).\n\nArgs:\n    lookback_hours: How far back to scan (default 24h)\n\nReturns:\n    List of suspicious events with explanations",
        "operationId": "detect_fraud_api_v1_admin_affiliate_fraud_detection_get",
        "parameters": [
          {
            "name": "lookback_hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 24,
              "title": "Lookback Hours"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FraudDetectionResponse"
                  },
                  "title": "Response Detect Fraud Api V1 Admin Affiliate Fraud Detection Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/affiliate/daily-report": {
      "get": {
        "tags": [
          "Affiliate Admin"
        ],
        "summary": "Get Daily Report",
        "description": "Generate daily revenue report (HTML email format).\n\nReturns:\n    HTML email body with daily revenue stats",
        "operationId": "get_daily_report_api_v1_admin_affiliate_daily_report_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/collections": {
      "get": {
        "tags": [
          "collections"
        ],
        "summary": "List Collections",
        "description": "List all collections for the authenticated user.",
        "operationId": "list_collections_api_v1_collections_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "collections"
        ],
        "summary": "Create Collection",
        "description": "Create a new recipe collection.",
        "operationId": "create_collection_api_v1_collections_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCollectionRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/collections/{collection_id}": {
      "get": {
        "tags": [
          "collections"
        ],
        "summary": "Get Collection",
        "description": "Get collection details with recipes.",
        "operationId": "get_collection_api_v1_collections__collection_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Id"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "collections"
        ],
        "summary": "Update Collection",
        "description": "Update collection metadata.",
        "operationId": "update_collection_api_v1_collections__collection_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCollectionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "collections"
        ],
        "summary": "Delete Collection",
        "description": "Delete a collection (recipes are NOT deleted, just unlinked).",
        "operationId": "delete_collection_api_v1_collections__collection_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/collections/{collection_id}/recipes": {
      "post": {
        "tags": [
          "collections"
        ],
        "summary": "Add Recipe To Collection",
        "description": "Add a recipe to a collection.",
        "operationId": "add_recipe_to_collection_api_v1_collections__collection_id__recipes_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddToCollectionRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/collections/{collection_id}/recipes/{recipe_id}": {
      "delete": {
        "tags": [
          "collections"
        ],
        "summary": "Remove Recipe From Collection",
        "description": "Remove a recipe from a collection.",
        "operationId": "remove_recipe_from_collection_api_v1_collections__collection_id__recipes__recipe_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Id"
            }
          },
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/collections/{collection_id}/reorder": {
      "post": {
        "tags": [
          "collections"
        ],
        "summary": "Reorder Collection Items",
        "description": "Reorder recipes within a collection. Send ordered list of item IDs.",
        "operationId": "reorder_collection_items_api_v1_collections__collection_id__reorder_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReorderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/collections/reorder": {
      "post": {
        "tags": [
          "collections"
        ],
        "summary": "Reorder Collections",
        "description": "Reorder collections. Send ordered list of collection IDs.",
        "operationId": "reorder_collections_api_v1_collections_reorder_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReorderRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/collections/{collection_id}/public": {
      "get": {
        "tags": [
          "collections"
        ],
        "summary": "Get Public Collection",
        "description": "View a public collection (no auth required).",
        "operationId": "get_public_collection_api_v1_collections__collection_id__public_get",
        "parameters": [
          {
            "name": "collection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Id"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/forgot-password": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Forgot Password",
        "description": "Request a password reset token.\n\nAlways returns 200 to prevent email enumeration.\nIn production, sends email with the token/link.",
        "operationId": "forgot_password_api_v1_auth_forgot_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/reset-password": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Reset Password",
        "description": "Reset password using a valid token.",
        "operationId": "reset_password_api_v1_auth_reset_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/change-password": {
      "post": {
        "tags": [
          "auth"
        ],
        "summary": "Change Password",
        "description": "Change password for authenticated user (requires current password).",
        "operationId": "change_password_api_v1_auth_change_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/onboarding/profile": {
      "get": {
        "tags": [
          "onboarding"
        ],
        "summary": "Get Onboarding Profile",
        "description": "Get current dietary preferences and onboarding status.",
        "operationId": "get_onboarding_profile_api_v1_onboarding_profile_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "onboarding"
        ],
        "summary": "Set Onboarding Profile",
        "description": "Set or update dietary preferences. Partial updates supported.",
        "operationId": "set_onboarding_profile_api_v1_onboarding_profile_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OnboardingRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/onboarding/quick-setup": {
      "post": {
        "tags": [
          "onboarding"
        ],
        "summary": "Quick Setup",
        "description": "Auto-calculate macro targets from body stats + goal.",
        "operationId": "quick_setup_api_v1_onboarding_quick_setup_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuickSetupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/onboarding/calculate-targets": {
      "post": {
        "tags": [
          "onboarding"
        ],
        "summary": "Preview Targets",
        "description": "Preview calculated targets without saving (no auth required).\n\nUseful for showing targets during onboarding before account creation.",
        "operationId": "preview_targets_api_v1_onboarding_calculate_targets_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/QuickSetupRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/onboarding/options": {
      "get": {
        "tags": [
          "onboarding"
        ],
        "summary": "Get Onboarding Options",
        "description": "Return available dietary options for the onboarding UI.\n\nNo auth required \u2014 used on the onboarding screens before/during signup.",
        "operationId": "get_onboarding_options_api_v1_onboarding_options_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/reports": {
      "post": {
        "tags": [
          "reports"
        ],
        "summary": "Submit Report",
        "description": "Submit a content report.",
        "operationId": "submit_report_api_v1_reports_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReportRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/reports/my": {
      "get": {
        "tags": [
          "reports"
        ],
        "summary": "My Reports",
        "description": "List reports submitted by the current user.",
        "operationId": "my_reports_api_v1_reports_my_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "default": 20,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/reports": {
      "get": {
        "tags": [
          "reports"
        ],
        "summary": "List Reports",
        "description": "List reports for admin moderation queue.",
        "operationId": "list_reports_api_v1_admin_reports_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "pattern": "^(pending|reviewed|resolved|dismissed|all)$",
              "default": "pending",
              "title": "Status"
            }
          },
          {
            "name": "content_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Content Type"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/reports/{report_id}": {
      "patch": {
        "tags": [
          "reports"
        ],
        "summary": "Update Report",
        "description": "Update report status (admin).",
        "operationId": "update_report_api_v1_admin_reports__report_id__patch",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "report_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Report Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReportUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/shopping-list": {
      "post": {
        "tags": [
          "shopping-list"
        ],
        "summary": "Generate Shopping List",
        "description": "Aggregate ingredients across multiple recipes into a unified shopping list.\n\nMerges matching ingredients, normalizes units, and includes affiliate links.",
        "operationId": "generate_shopping_list_api_v1_shopping_list_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ShoppingListRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ShoppingListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/affiliate-links/tracked": {
      "post": {
        "summary": "Get Tracked Affiliate Links",
        "description": "Generate tracked affiliate links that route through our redirect service.\n\nInstead of raw provider URLs, returns /go/{link_id} URLs that:\n- Track clicks server-side (reliable attribution)\n- Enable A/B testing of providers\n- Support dynamic link rotation\n- Work as universal deep links (web + iOS + Android)",
        "operationId": "get_tracked_affiliate_links_api_v1_affiliate_links_tracked_post",
        "parameters": [
          {
            "name": "recipe_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "title": "Ingredients"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/go/{link_id}": {
      "get": {
        "summary": "Redirect Affiliate",
        "description": "Redirect to affiliate provider URL while tracking the click.\n\nThis is the core monetization endpoint \u2014 every affiliate click flows through here.\nFast 302 redirect with async click logging.",
        "operationId": "redirect_affiliate_go__link_id__get",
        "parameters": [
          {
            "name": "link_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Link Id"
            }
          },
          {
            "name": "uid",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Uid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/admin/affiliate-revenue": {
      "get": {
        "summary": "Affiliate Revenue Dashboard",
        "description": "Real-time affiliate revenue dashboard.\n\nShows click stats, revenue estimates, and provider breakdown.",
        "operationId": "affiliate_revenue_dashboard_api_v1_admin_affiliate_revenue_get",
        "parameters": [
          {
            "name": "hours",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 720,
              "minimum": 1,
              "default": 24,
              "title": "Hours"
            }
          },
          {
            "name": "x-admin-key",
            "in": "header",
            "required": false,
            "schema": {
              "type": "string",
              "title": "X-Admin-Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/cost-estimate": {
      "post": {
        "summary": "Recipe Cost Estimate",
        "description": "Estimate the cost of a recipe from its ingredients.\n\nReturns per-ingredient costs, total, per-serving, and budget-friendly flag.\nPremium feature \u2014 shows users exactly what they'll spend.",
        "operationId": "recipe_cost_estimate_api_v1_recipes_cost_estimate_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CostEstimateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/{recipe_id}/cost": {
      "get": {
        "summary": "Recipe Cost By Id",
        "description": "Get cost estimate for a stored recipe by ID.",
        "operationId": "recipe_cost_by_id_api_v1_recipes__recipe_id__cost_get",
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/meal-plan/cost": {
      "post": {
        "summary": "Meal Plan Cost",
        "description": "Estimate total cost for a weekly meal plan.\n\nAccepts a list of recipes and returns aggregate cost with savings tips.",
        "operationId": "meal_plan_cost_api_v1_meal_plan_cost_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MealPlanCostRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/app": {
      "get": {
        "summary": "Serve App",
        "operationId": "serve_app_app_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health",
        "description": "Deep health check \u2014 validates DB connectivity.",
        "operationId": "health_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/ready": {
      "get": {
        "summary": "Readiness",
        "description": "Readiness probe for orchestrators (K8s, Railway).\n\nReturns 503 if not ready to serve traffic.",
        "operationId": "readiness_ready_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/legal/affiliate-disclosure": {
      "get": {
        "summary": "Affiliate Disclosure",
        "description": "FTC-compliant affiliate disclosure page.\n\nRequired by FTC 16 CFR Part 255 for all affiliate link monetization.",
        "operationId": "affiliate_disclosure_legal_affiliate_disclosure_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AddToCollectionRequest": {
        "properties": {
          "recipe_id": {
            "type": "string",
            "title": "Recipe Id"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "recipe_id"
        ],
        "title": "AddToCollectionRequest"
      },
      "AffiliateHealthResponse": {
        "properties": {
          "clicks_24h": {
            "type": "integer",
            "title": "Clicks 24H"
          },
          "conversions_24h": {
            "type": "integer",
            "title": "Conversions 24H"
          },
          "revenue_24h": {
            "type": "number",
            "title": "Revenue 24H"
          },
          "conversion_rate_24h": {
            "type": "number",
            "title": "Conversion Rate 24H"
          },
          "avg_order_value_24h": {
            "type": "number",
            "title": "Avg Order Value 24H"
          },
          "clicks_7d_avg": {
            "type": "integer",
            "title": "Clicks 7D Avg"
          },
          "conversions_7d_avg": {
            "type": "integer",
            "title": "Conversions 7D Avg"
          },
          "revenue_7d_avg": {
            "type": "number",
            "title": "Revenue 7D Avg"
          },
          "conversion_rate_7d_avg": {
            "type": "number",
            "title": "Conversion Rate 7D Avg"
          },
          "alerts": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Alerts"
          }
        },
        "type": "object",
        "required": [
          "clicks_24h",
          "conversions_24h",
          "revenue_24h",
          "conversion_rate_24h",
          "avg_order_value_24h",
          "clicks_7d_avg",
          "conversions_7d_avg",
          "revenue_7d_avg",
          "conversion_rate_7d_avg",
          "alerts"
        ],
        "title": "AffiliateHealthResponse",
        "description": "Current affiliate system health."
      },
      "AmazonConversionWebhook": {
        "properties": {
          "order_id": {
            "type": "string",
            "title": "Order Id"
          },
          "link_id": {
            "type": "string",
            "title": "Link Id"
          },
          "total_amount": {
            "type": "number",
            "title": "Total Amount"
          },
          "commission": {
            "type": "number",
            "title": "Commission"
          },
          "purchase_date": {
            "type": "string",
            "title": "Purchase Date"
          }
        },
        "type": "object",
        "required": [
          "order_id",
          "link_id",
          "total_amount",
          "commission",
          "purchase_date"
        ],
        "title": "AmazonConversionWebhook",
        "description": "Amazon Associates conversion event (simplified)."
      },
      "AppleReceiptRequest": {
        "properties": {
          "receipt_data": {
            "type": "string",
            "title": "Receipt Data"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          }
        },
        "type": "object",
        "required": [
          "receipt_data",
          "user_id"
        ],
        "title": "AppleReceiptRequest"
      },
      "AutoFillRequest": {
        "properties": {
          "meal_types": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Meal Types",
            "description": "Which meals to auto-fill",
            "default": [
              "breakfast",
              "lunch",
              "dinner"
            ]
          },
          "respect_targets": {
            "type": "boolean",
            "title": "Respect Targets",
            "description": "Try to hit daily macro targets",
            "default": true
          }
        },
        "type": "object",
        "title": "AutoFillRequest"
      },
      "AvatarUploadResponse": {
        "properties": {
          "avatar_url": {
            "type": "string",
            "title": "Avatar Url"
          }
        },
        "type": "object",
        "required": [
          "avatar_url"
        ],
        "title": "AvatarUploadResponse",
        "description": "Avatar upload result."
      },
      "BatchPayload": {
        "properties": {
          "events": {
            "items": {
              "$ref": "#/components/schemas/EventPayload"
            },
            "type": "array",
            "maxItems": 100,
            "title": "Events"
          }
        },
        "type": "object",
        "required": [
          "events"
        ],
        "title": "BatchPayload"
      },
      "Body_upload_avatar_api_v1_users__user_id__avatar_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_avatar_api_v1_users__user_id__avatar_post"
      },
      "ChangePasswordRequest": {
        "properties": {
          "current_password": {
            "type": "string",
            "minLength": 1,
            "title": "Current Password"
          },
          "new_password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "ChangePasswordRequest"
      },
      "CommentAuthor": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "display_name": {
            "type": "string",
            "title": "Display Name"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          }
        },
        "type": "object",
        "required": [
          "id",
          "display_name"
        ],
        "title": "CommentAuthor",
        "description": "Comment author info."
      },
      "CommentCreate": {
        "properties": {
          "text": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Text",
            "description": "Comment text"
          },
          "parent_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Id",
            "description": "Parent comment ID for replies"
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "CommentCreate",
        "description": "Request to post a comment."
      },
      "CommentResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "recipe_id": {
            "type": "string",
            "title": "Recipe Id"
          },
          "author": {
            "$ref": "#/components/schemas/CommentAuthor"
          },
          "text": {
            "type": "string",
            "title": "Text"
          },
          "parent_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parent Id"
          },
          "reply_count": {
            "type": "integer",
            "title": "Reply Count"
          },
          "like_count": {
            "type": "integer",
            "title": "Like Count"
          },
          "is_liked": {
            "type": "boolean",
            "title": "Is Liked"
          },
          "is_author": {
            "type": "boolean",
            "title": "Is Author"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "recipe_id",
          "author",
          "text",
          "parent_id",
          "reply_count",
          "like_count",
          "is_liked",
          "is_author",
          "created_at",
          "updated_at"
        ],
        "title": "CommentResponse",
        "description": "Comment with metadata."
      },
      "CommentUpdate": {
        "properties": {
          "text": {
            "type": "string",
            "maxLength": 2000,
            "minLength": 1,
            "title": "Text"
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "CommentUpdate",
        "description": "Request to edit a comment."
      },
      "CommentsListResponse": {
        "properties": {
          "comments": {
            "items": {
              "$ref": "#/components/schemas/CommentResponse"
            },
            "type": "array",
            "title": "Comments"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "has_more": {
            "type": "boolean",
            "title": "Has More"
          }
        },
        "type": "object",
        "required": [
          "comments",
          "total",
          "has_more"
        ],
        "title": "CommentsListResponse",
        "description": "Paginated comments list."
      },
      "ConsentUpdate": {
        "properties": {
          "analytics": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Analytics"
          },
          "marketing": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Marketing"
          },
          "personalization": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Personalization"
          },
          "third_party": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Third Party"
          }
        },
        "type": "object",
        "title": "ConsentUpdate"
      },
      "CookingLogRequest": {
        "properties": {
          "servings": {
            "type": "number",
            "maximum": 20.0,
            "minimum": 0.25,
            "title": "Servings",
            "default": 1.0
          },
          "notes": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "rating": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating"
          }
        },
        "type": "object",
        "title": "CookingLogRequest"
      },
      "CostEstimateRequest": {
        "properties": {
          "ingredients": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Ingredients"
          },
          "servings": {
            "type": "integer",
            "title": "Servings",
            "default": 4
          }
        },
        "type": "object",
        "required": [
          "ingredients"
        ],
        "title": "CostEstimateRequest"
      },
      "CreateCheckoutRequest": {
        "properties": {
          "tier": {
            "type": "string",
            "title": "Tier"
          },
          "billing_period": {
            "type": "string",
            "title": "Billing Period",
            "default": "monthly"
          },
          "success_url": {
            "type": "string",
            "title": "Success Url",
            "default": "https://fitbites.app/success"
          },
          "cancel_url": {
            "type": "string",
            "title": "Cancel Url",
            "default": "https://fitbites.app/pricing"
          }
        },
        "type": "object",
        "required": [
          "tier"
        ],
        "title": "CreateCheckoutRequest"
      },
      "CreateCollectionRequest": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "emoji": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Emoji"
          },
          "is_public": {
            "type": "boolean",
            "title": "Is Public",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "CreateCollectionRequest"
      },
      "Creator": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          },
          "platform": {
            "$ref": "#/components/schemas/Platform"
          },
          "profile_url": {
            "type": "string",
            "title": "Profile Url"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url"
          },
          "follower_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Follower Count"
          }
        },
        "type": "object",
        "required": [
          "username",
          "platform",
          "profile_url"
        ],
        "title": "Creator"
      },
      "DailyRevenue": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date"
          },
          "clicks": {
            "type": "integer",
            "title": "Clicks"
          },
          "conversions": {
            "type": "integer",
            "title": "Conversions"
          },
          "estimated_revenue": {
            "type": "number",
            "title": "Estimated Revenue"
          },
          "unique_users": {
            "type": "integer",
            "title": "Unique Users"
          },
          "arpu": {
            "type": "number",
            "title": "Arpu"
          }
        },
        "type": "object",
        "required": [
          "date",
          "clicks",
          "conversions",
          "estimated_revenue",
          "unique_users",
          "arpu"
        ],
        "title": "DailyRevenue"
      },
      "DietaryGoal": {
        "type": "string",
        "enum": [
          "lose_weight",
          "build_muscle",
          "maintain",
          "eat_healthier"
        ],
        "title": "DietaryGoal"
      },
      "EventPayload": {
        "properties": {
          "event": {
            "type": "string",
            "maxLength": 100,
            "title": "Event",
            "description": "Event name (e.g. recipe_view)"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 36
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id"
          },
          "session_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 36
              },
              {
                "type": "null"
              }
            ],
            "title": "Session Id"
          },
          "platform": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform"
          },
          "app_version": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "App Version"
          },
          "properties": {
            "type": "object",
            "title": "Properties"
          },
          "timestamp": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "event"
        ],
        "title": "EventPayload"
      },
      "FollowRequest": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          }
        },
        "type": "object",
        "required": [
          "user_id"
        ],
        "title": "FollowRequest"
      },
      "ForgotPasswordRequest": {
        "properties": {
          "email": {
            "type": "string",
            "maxLength": 320,
            "title": "Email"
          }
        },
        "type": "object",
        "required": [
          "email"
        ],
        "title": "ForgotPasswordRequest"
      },
      "FraudDetectionResponse": {
        "properties": {
          "type": {
            "type": "string",
            "title": "Type"
          },
          "details": {
            "type": "object",
            "title": "Details"
          },
          "explanation": {
            "type": "string",
            "title": "Explanation"
          }
        },
        "type": "object",
        "required": [
          "type",
          "details",
          "explanation"
        ],
        "title": "FraudDetectionResponse",
        "description": "Suspicious conversion patterns."
      },
      "GoogleVerifyRequest": {
        "properties": {
          "purchase_token": {
            "type": "string",
            "title": "Purchase Token"
          },
          "product_id": {
            "type": "string",
            "title": "Product Id"
          }
        },
        "type": "object",
        "required": [
          "purchase_token",
          "product_id"
        ],
        "title": "GoogleVerifyRequest"
      },
      "GroceryItemUpdate": {
        "properties": {
          "index": {
            "type": "integer",
            "title": "Index"
          },
          "checked": {
            "type": "boolean",
            "title": "Checked"
          }
        },
        "type": "object",
        "required": [
          "index",
          "checked"
        ],
        "title": "GroceryItemUpdate"
      },
      "GroceryListCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "default": "My Grocery List"
          },
          "recipe_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "minItems": 1,
            "title": "Recipe Ids",
            "description": "Recipe IDs to generate grocery list from"
          }
        },
        "type": "object",
        "required": [
          "recipe_ids"
        ],
        "title": "GroceryListCreateRequest"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthScore": {
        "properties": {
          "score": {
            "type": "integer",
            "title": "Score"
          },
          "grade": {
            "type": "string",
            "title": "Grade"
          },
          "alerts": {
            "items": {
              "additionalProperties": {
                "type": "string"
              },
              "type": "object"
            },
            "type": "array",
            "title": "Alerts"
          },
          "metrics": {
            "additionalProperties": {
              "$ref": "#/components/schemas/RevenueMetric"
            },
            "type": "object",
            "title": "Metrics"
          },
          "recommendation": {
            "type": "string",
            "title": "Recommendation"
          }
        },
        "type": "object",
        "required": [
          "score",
          "grade",
          "alerts",
          "metrics",
          "recommendation"
        ],
        "title": "HealthScore"
      },
      "ImpactConversionWebhook": {
        "properties": {
          "event_type": {
            "type": "string",
            "title": "Event Type"
          },
          "order_id": {
            "type": "string",
            "title": "Order Id"
          },
          "click_id": {
            "type": "string",
            "title": "Click Id"
          },
          "subid1": {
            "type": "string",
            "title": "Subid1"
          },
          "amount": {
            "type": "number",
            "title": "Amount"
          },
          "payout": {
            "type": "number",
            "title": "Payout"
          },
          "event_date": {
            "type": "string",
            "title": "Event Date"
          }
        },
        "type": "object",
        "required": [
          "event_type",
          "order_id",
          "click_id",
          "subid1",
          "amount",
          "payout",
          "event_date"
        ],
        "title": "ImpactConversionWebhook",
        "description": "Impact.com conversion event (Instacart, Walmart use this)."
      },
      "Ingredient": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "quantity": {
            "type": "string",
            "title": "Quantity"
          },
          "affiliate_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Affiliate Url"
          },
          "amazon_asin": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amazon Asin"
          },
          "category": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Category"
          }
        },
        "type": "object",
        "required": [
          "name",
          "quantity"
        ],
        "title": "Ingredient"
      },
      "LoginRequest": {
        "properties": {
          "email": {
            "type": "string",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "LoginRequest"
      },
      "MealEntryRequest": {
        "properties": {
          "recipe_id": {
            "type": "string",
            "title": "Recipe Id"
          },
          "day_index": {
            "type": "integer",
            "maximum": 27.0,
            "minimum": 0.0,
            "title": "Day Index"
          },
          "meal_type": {
            "type": "string",
            "pattern": "^(breakfast|lunch|dinner|snack)$",
            "title": "Meal Type"
          },
          "servings": {
            "type": "number",
            "maximum": 10.0,
            "minimum": 0.25,
            "title": "Servings",
            "default": 1.0
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "recipe_id",
          "day_index",
          "meal_type"
        ],
        "title": "MealEntryRequest"
      },
      "MealPlanCostRequest": {
        "properties": {
          "recipes": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Recipes"
          }
        },
        "type": "object",
        "required": [
          "recipes"
        ],
        "title": "MealPlanCostRequest"
      },
      "MealPlanCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "default": "Weekly Meal Plan"
          },
          "start_date": {
            "type": "string",
            "format": "date",
            "title": "Start Date"
          },
          "days": {
            "type": "integer",
            "maximum": 28.0,
            "minimum": 1.0,
            "title": "Days",
            "description": "Plan duration in days",
            "default": 7
          },
          "daily_calories": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5000.0,
                "minimum": 800.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Calories"
          },
          "daily_protein_g": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 500.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Protein G"
          },
          "daily_carbs_g": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 800.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Carbs G"
          },
          "daily_fat_g": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 300.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Fat G"
          }
        },
        "type": "object",
        "required": [
          "start_date"
        ],
        "title": "MealPlanCreateRequest"
      },
      "NutritionInfo": {
        "properties": {
          "calories": {
            "type": "integer",
            "title": "Calories"
          },
          "protein_g": {
            "type": "number",
            "title": "Protein G"
          },
          "carbs_g": {
            "type": "number",
            "title": "Carbs G"
          },
          "fat_g": {
            "type": "number",
            "title": "Fat G"
          },
          "fiber_g": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fiber G"
          },
          "sugar_g": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sugar G"
          },
          "servings": {
            "type": "integer",
            "title": "Servings",
            "default": 1
          }
        },
        "type": "object",
        "required": [
          "calories",
          "protein_g",
          "carbs_g",
          "fat_g"
        ],
        "title": "NutritionInfo"
      },
      "OnboardingRequest": {
        "properties": {
          "goal": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/DietaryGoal"
              },
              {
                "type": "null"
              }
            ]
          },
          "dietary_restrictions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Dietary Restrictions",
            "description": "e.g. ['vegetarian', 'gluten-free', 'dairy-free']"
          },
          "allergens": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array",
                "maxItems": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Allergens",
            "description": "e.g. ['peanuts', 'shellfish', 'soy']"
          },
          "skill_level": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/SkillLevel"
              },
              {
                "type": "null"
              }
            ]
          },
          "max_cook_time_minutes": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 240.0,
                "minimum": 5.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Cook Time Minutes"
          },
          "target_calories": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5000.0,
                "minimum": 800.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Calories"
          },
          "target_protein_g": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 500.0,
                "minimum": 20.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Protein G"
          },
          "target_carbs_g": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 800.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Carbs G"
          },
          "target_fat_g": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 400.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Fat G"
          },
          "servings_per_meal": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Servings Per Meal"
          },
          "meals_per_day": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 8.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Meals Per Day"
          }
        },
        "type": "object",
        "title": "OnboardingRequest",
        "description": "Full onboarding profile \u2014 all fields optional for partial updates."
      },
      "PartnerBreakdown": {
        "properties": {
          "partner": {
            "type": "string",
            "title": "Partner"
          },
          "clicks": {
            "type": "integer",
            "title": "Clicks"
          },
          "conversions": {
            "type": "integer",
            "title": "Conversions"
          },
          "estimated_revenue": {
            "type": "number",
            "title": "Estimated Revenue"
          },
          "avg_commission": {
            "type": "number",
            "title": "Avg Commission"
          },
          "top_ingredients": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Top Ingredients"
          },
          "share_of_revenue": {
            "type": "number",
            "title": "Share Of Revenue"
          }
        },
        "type": "object",
        "required": [
          "partner",
          "clicks",
          "conversions",
          "estimated_revenue",
          "avg_commission",
          "top_ingredients",
          "share_of_revenue"
        ],
        "title": "PartnerBreakdown"
      },
      "Platform": {
        "type": "string",
        "enum": [
          "tiktok",
          "instagram",
          "youtube",
          "reddit"
        ],
        "title": "Platform"
      },
      "PreferencesUpdate": {
        "properties": {
          "dietary": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dietary"
          },
          "max_calories": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Calories"
          },
          "min_protein": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Min Protein"
          },
          "excluded_ingredients": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Excluded Ingredients"
          }
        },
        "type": "object",
        "title": "PreferencesUpdate"
      },
      "ProviderPerformanceResponse": {
        "properties": {
          "provider": {
            "type": "string",
            "title": "Provider"
          },
          "clicks": {
            "type": "integer",
            "title": "Clicks"
          },
          "conversions": {
            "type": "integer",
            "title": "Conversions"
          },
          "conversion_rate": {
            "type": "number",
            "title": "Conversion Rate"
          },
          "revenue": {
            "type": "number",
            "title": "Revenue"
          },
          "commission": {
            "type": "number",
            "title": "Commission"
          },
          "avg_order_value": {
            "type": "number",
            "title": "Avg Order Value"
          }
        },
        "type": "object",
        "required": [
          "provider",
          "clicks",
          "conversions",
          "conversion_rate",
          "revenue",
          "commission",
          "avg_order_value"
        ],
        "title": "ProviderPerformanceResponse",
        "description": "Performance comparison across providers."
      },
      "QuickSetupRequest": {
        "properties": {
          "goal": {
            "$ref": "#/components/schemas/DietaryGoal"
          },
          "weight_kg": {
            "type": "number",
            "maximum": 300.0,
            "minimum": 30.0,
            "title": "Weight Kg"
          },
          "height_cm": {
            "type": "number",
            "maximum": 250.0,
            "minimum": 100.0,
            "title": "Height Cm"
          },
          "age": {
            "type": "integer",
            "maximum": 120.0,
            "minimum": 13.0,
            "title": "Age"
          },
          "sex": {
            "type": "string",
            "pattern": "^(male|female)$",
            "title": "Sex"
          },
          "activity_level": {
            "type": "string",
            "pattern": "^(sedentary|light|moderate|active|very_active)$",
            "title": "Activity Level"
          },
          "dietary_restrictions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Dietary Restrictions"
          }
        },
        "type": "object",
        "required": [
          "goal",
          "weight_kg",
          "height_cm",
          "age",
          "sex",
          "activity_level"
        ],
        "title": "QuickSetupRequest",
        "description": "Simplified onboarding for users who want auto-calculated targets."
      },
      "RecentlyViewedResponse": {
        "properties": {
          "recipes": {
            "items": {
              "$ref": "#/components/schemas/RecipePreview"
            },
            "type": "array",
            "title": "Recipes"
          },
          "total": {
            "type": "integer",
            "title": "Total"
          }
        },
        "type": "object",
        "required": [
          "recipes",
          "total"
        ],
        "title": "RecentlyViewedResponse",
        "description": "Recently viewed recipes list."
      },
      "Recipe": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "creator": {
            "$ref": "#/components/schemas/Creator"
          },
          "platform": {
            "$ref": "#/components/schemas/Platform"
          },
          "source_url": {
            "type": "string",
            "title": "Source Url"
          },
          "thumbnail_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Thumbnail Url"
          },
          "video_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Url"
          },
          "ingredients": {
            "items": {
              "$ref": "#/components/schemas/Ingredient"
            },
            "type": "array",
            "title": "Ingredients",
            "default": []
          },
          "steps": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Steps",
            "default": []
          },
          "nutrition": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/NutritionInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "views": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Views"
          },
          "likes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Likes"
          },
          "comments": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comments"
          },
          "shares": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shares"
          },
          "tags": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tags",
            "default": []
          },
          "cook_time_minutes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cook Time Minutes"
          },
          "difficulty": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Difficulty"
          },
          "virality_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Virality Score"
          },
          "scraped_at": {
            "type": "string",
            "format": "date-time",
            "title": "Scraped At"
          },
          "published_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Published At"
          }
        },
        "type": "object",
        "required": [
          "title",
          "creator",
          "platform",
          "source_url"
        ],
        "title": "Recipe",
        "examples": [
          {
            "cook_time_minutes": 5,
            "creator": {
              "platform": "tiktok",
              "profile_url": "https://tiktok.com/@broccyourbody",
              "username": "broccyourbody"
            },
            "ingredients": [
              {
                "name": "frozen banana",
                "quantity": "2 medium"
              },
              {
                "name": "protein powder",
                "quantity": "1 scoop"
              },
              {
                "name": "almond milk",
                "quantity": "1/4 cup"
              }
            ],
            "nutrition": {
              "calories": 320,
              "carbs_g": 38,
              "fat_g": 4,
              "protein_g": 42,
              "servings": 1
            },
            "platform": "tiktok",
            "source_url": "https://tiktok.com/@broccyourbody/video/123",
            "tags": [
              "high-protein",
              "dessert",
              "quick"
            ],
            "title": "3-Ingredient Protein Ice Cream",
            "views": 2300000
          }
        ]
      },
      "RecipePreview": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url"
          },
          "calories": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Calories"
          },
          "protein_g": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Protein G"
          },
          "cook_time_minutes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cook Time Minutes"
          },
          "platform": {
            "type": "string",
            "title": "Platform"
          },
          "viewed_at": {
            "type": "string",
            "format": "date-time",
            "title": "Viewed At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "image_url",
          "calories",
          "protein_g",
          "cook_time_minutes",
          "platform",
          "viewed_at"
        ],
        "title": "RecipePreview",
        "description": "Recipe preview for history list."
      },
      "RefreshRequest": {
        "properties": {
          "refresh_token": {
            "type": "string",
            "title": "Refresh Token"
          }
        },
        "type": "object",
        "required": [
          "refresh_token"
        ],
        "title": "RefreshRequest"
      },
      "RegisterRequest": {
        "properties": {
          "device_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Device Id",
            "description": "For anonymous sign-up"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 320
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "For email-based auth"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          }
        },
        "type": "object",
        "title": "RegisterRequest"
      },
      "ReorderRequest": {
        "properties": {
          "ordered_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 200,
            "minItems": 1,
            "title": "Ordered Ids"
          }
        },
        "type": "object",
        "required": [
          "ordered_ids"
        ],
        "title": "ReorderRequest"
      },
      "ReportRequest": {
        "properties": {
          "content_type": {
            "type": "string",
            "title": "Content Type",
            "description": "recipe, comment, review, or user"
          },
          "content_id": {
            "type": "string",
            "title": "Content Id"
          },
          "reason": {
            "type": "string",
            "title": "Reason",
            "description": "spam, inappropriate, misleading, harmful, copyright, harassment, other"
          },
          "details": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Details"
          }
        },
        "type": "object",
        "required": [
          "content_type",
          "content_id",
          "reason"
        ],
        "title": "ReportRequest"
      },
      "ReportUpdateRequest": {
        "properties": {
          "status": {
            "type": "string",
            "pattern": "^(reviewed|resolved|dismissed)$",
            "title": "Status"
          },
          "admin_notes": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin Notes"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "ReportUpdateRequest"
      },
      "ResetPasswordRequest": {
        "properties": {
          "email": {
            "type": "string",
            "maxLength": 320,
            "title": "Email"
          },
          "token": {
            "type": "string",
            "minLength": 1,
            "title": "Token"
          },
          "new_password": {
            "type": "string",
            "maxLength": 128,
            "minLength": 8,
            "title": "New Password"
          }
        },
        "type": "object",
        "required": [
          "email",
          "token",
          "new_password"
        ],
        "title": "ResetPasswordRequest"
      },
      "RevenueMetric": {
        "properties": {
          "value": {
            "type": "number",
            "title": "Value"
          },
          "label": {
            "type": "string",
            "title": "Label"
          },
          "trend": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Trend"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "default": "neutral"
          }
        },
        "type": "object",
        "required": [
          "value",
          "label"
        ],
        "title": "RevenueMetric"
      },
      "RevenueSummary": {
        "properties": {
          "period_days": {
            "type": "integer",
            "title": "Period Days"
          },
          "total_revenue_est": {
            "type": "number",
            "title": "Total Revenue Est"
          },
          "arpu": {
            "$ref": "#/components/schemas/RevenueMetric"
          },
          "ltv_30d": {
            "$ref": "#/components/schemas/RevenueMetric"
          },
          "ltv_12m": {
            "$ref": "#/components/schemas/RevenueMetric"
          },
          "affiliate_ctr": {
            "$ref": "#/components/schemas/RevenueMetric"
          },
          "conversion_rate": {
            "$ref": "#/components/schemas/RevenueMetric"
          },
          "unique_users": {
            "type": "integer",
            "title": "Unique Users"
          },
          "total_clicks": {
            "type": "integer",
            "title": "Total Clicks"
          },
          "total_conversions": {
            "type": "integer",
            "title": "Total Conversions"
          },
          "revenue_by_partner": {
            "additionalProperties": {
              "type": "number"
            },
            "type": "object",
            "title": "Revenue By Partner"
          },
          "top_recipes_by_revenue": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Top Recipes By Revenue"
          }
        },
        "type": "object",
        "required": [
          "period_days",
          "total_revenue_est",
          "arpu",
          "ltv_30d",
          "ltv_12m",
          "affiliate_ctr",
          "conversion_rate",
          "unique_users",
          "total_clicks",
          "total_conversions",
          "revenue_by_partner",
          "top_recipes_by_revenue"
        ],
        "title": "RevenueSummary"
      },
      "ReviewCreateRequest": {
        "properties": {
          "rating": {
            "type": "integer",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Rating"
          },
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "body": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Body"
          },
          "made_it": {
            "type": "boolean",
            "title": "Made It",
            "default": false
          },
          "photos": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 5,
            "title": "Photos"
          }
        },
        "type": "object",
        "required": [
          "rating"
        ],
        "title": "ReviewCreateRequest"
      },
      "ReviewUpdateRequest": {
        "properties": {
          "rating": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Rating"
          },
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Title"
          },
          "body": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Body"
          },
          "made_it": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Made It"
          }
        },
        "type": "object",
        "title": "ReviewUpdateRequest"
      },
      "SaveRecipeRequest": {
        "properties": {
          "recipe_id": {
            "type": "string",
            "title": "Recipe Id"
          },
          "collection": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Collection"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "recipe_id"
        ],
        "title": "SaveRecipeRequest"
      },
      "ShareRequest": {
        "properties": {
          "platform": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Platform"
          }
        },
        "type": "object",
        "title": "ShareRequest"
      },
      "ShoppingItem": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "total_quantity": {
            "type": "string",
            "title": "Total Quantity"
          },
          "unit": {
            "type": "string",
            "title": "Unit"
          },
          "from_recipes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "From Recipes"
          },
          "affiliate_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Affiliate Url"
          },
          "checked": {
            "type": "boolean",
            "title": "Checked",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "name",
          "total_quantity",
          "unit",
          "from_recipes"
        ],
        "title": "ShoppingItem"
      },
      "ShoppingListRequest": {
        "properties": {
          "recipe_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "maxItems": 50,
            "minItems": 1,
            "title": "Recipe Ids"
          },
          "servings_multiplier": {
            "type": "number",
            "maximum": 10.0,
            "minimum": 0.25,
            "title": "Servings Multiplier",
            "default": 1.0
          }
        },
        "type": "object",
        "required": [
          "recipe_ids"
        ],
        "title": "ShoppingListRequest"
      },
      "ShoppingListResponse": {
        "properties": {
          "items": {
            "items": {
              "$ref": "#/components/schemas/ShoppingItem"
            },
            "type": "array",
            "title": "Items"
          },
          "recipe_count": {
            "type": "integer",
            "title": "Recipe Count"
          },
          "total_items": {
            "type": "integer",
            "title": "Total Items"
          }
        },
        "type": "object",
        "required": [
          "items",
          "recipe_count",
          "total_items"
        ],
        "title": "ShoppingListResponse"
      },
      "SignUpRequest": {
        "properties": {
          "email": {
            "type": "string",
            "title": "Email"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "display_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Display Name"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "SignUpRequest"
      },
      "SkillLevel": {
        "type": "string",
        "enum": [
          "beginner",
          "intermediate",
          "advanced"
        ],
        "title": "SkillLevel"
      },
      "Tier": {
        "type": "string",
        "enum": [
          "free",
          "pro",
          "pro_plus"
        ],
        "title": "Tier"
      },
      "UpdateCollectionRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "emoji": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 10
              },
              {
                "type": "null"
              }
            ],
            "title": "Emoji"
          },
          "is_public": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Public"
          },
          "cover_recipe_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cover Recipe Id"
          }
        },
        "type": "object",
        "title": "UpdateCollectionRequest"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}